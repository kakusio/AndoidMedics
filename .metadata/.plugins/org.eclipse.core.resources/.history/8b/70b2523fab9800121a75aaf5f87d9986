package com.example.nfcandroid.Activities;

import java.io.File;

import android.app.Activity;
import android.app.ProgressDialog;
import android.content.Intent;
import android.graphics.Bitmap;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.TextView;
import com.example.nfcandroid.R;

public class RemoveMedicDetailsActivity extends Activity {

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		
		setContentView(R.layout.remove_medic_details);

		 TextView name=(TextView) findViewById(R.id.name);
	     TextView details=(TextView) findViewById(R.id.details);
	     ImageView icon=(ImageView) findViewById(R.id.icon);
	     TextView linkurl=(TextView) findViewById(R.id.linkurl);
	     
	     name.setText(getIntent().getExtras().getString("title"));
	     details.setText(getIntent().getExtras().getString("description"));
		 icon.setImageBitmap((Bitmap) getIntent().getExtras().getParcelable("image_bitmap"));	
		 
		 linkurl.setText("Download");		
		 linkurl.setOnClickListener(new OnClickListener() {
			
			public void onClick(View v) {
				ProgressDialog mProgressDialog = new ProgressDialog(RemoveMedicDetailsActivity.this);
				mProgressDialog.setMessage("Download Process");
				mProgressDialog.setIndeterminate(false);
				mProgressDialog.setMax(100);
				mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
				
			}
		};
	}

	public void openfile(String filePath) {
		String[] arr = filePath.split("\\.");
		String format = arr[arr.length-1];		
        File file = new File(filePath);
        if (file.exists()) {
            Uri path = Uri.fromFile(file);
            Intent intent = new Intent(Intent.ACTION_VIEW);
            intent.setDataAndType(path, "application/" + format);
            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            try {
            	startActivity(intent);
            } 
            catch (Exception e) {
            	e.printStackTrace();
            }
        }
		
	}
}
